# 智能购物助手

该项目旨在通过 WebSocket 与 大模型交互，为用户提供针对产品类型的购买建议，并基于购物历史数据进行购买统计分析和价格杀熟风险的评估。

## 项目功能

1. **商品类别统计**：
   - 从购物数据中提取并计算每个商品类别的购买总数、最近购买数量和平均购买间隔时间。
   - 计算每个商品类别的杀熟风险（基于购买频率和购买间隔时间）。

2. **智能产品推荐与问题解决**：
   - 通过 WebSocket 连接 大模型，根据用户输入的商品名称自动生成产品可能遇到的问题及解决方案。
   - 提供详细的模型响应，帮助用户解决购买中的常见问题。

## 项目结构

- `app.py`：Flask 应用程序，提供 API 接口和 WebSocket 交互功能。
- `product_to_category.json`：商品名称与类别的映射文件。
- `shopping_data.json`：购物历史数据文件，包含商品类别和购买日期等信息。
- `templates/index.html`：前端页面，用于展示项目内容。

## 主要流程

1. **加载商品类别映射与购物数据**：
   - 读取 `product_to_category.json` 和 `shopping_data.json`，并初始化类别统计数据。

2. **统计购买数据并计算杀熟风险**：
   - 遍历购物数据，统计每个类别的购买总数、最近购买数量，并计算杀熟风险。

3. **WebSocket 与 模型交互**：
   - 用户请求指定商品的购买建议时，生成对应的 `query` 并通过 WebSocket 与 GPT 模型通信，获取智能响应。

4. **API 接口**：
   - 提供 `/get_product_info` 接口，用户通过商品名称获取该商品的类别信息、购买统计及杀熟风险分析。

